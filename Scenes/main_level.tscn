[gd_scene load_steps=16 format=3 uid="uid://btn64wqy1oa7q"]

[ext_resource type="PackedScene" uid="uid://dau8g3h2llrw0" path="res://Art/Shaders/water_wave_shader.tscn" id="1_c1jb1"]
[ext_resource type="Shader" path="res://Scripts/Shaders/vignette.gdshader" id="1_cql6f"]
[ext_resource type="PackedScene" uid="uid://dqxbtyo2ud4ab" path="res://Scenes/AudioManager.tscn" id="1_dc4yx"]
[ext_resource type="PackedScene" uid="uid://c1qcpk5k1bscw" path="res://Scenes/UI/pause_menu.tscn" id="2_flmfg"]
[ext_resource type="Script" path="res://Scripts/HealthVignette.gd" id="2_q77pe"]
[ext_resource type="AudioStream" uid="uid://cbeuoy8p52glr" path="res://Audio/SFX/UnderWater_Amb.ogg" id="3_is4q5"]
[ext_resource type="PackedScene" uid="uid://b6tb23xiiu2sq" path="res://Characters/wall_plant.tscn" id="3_socbm"]
[ext_resource type="PackedScene" uid="uid://ck4tc0l1gf463" path="res://Characters/player_blowfish.tscn" id="4_cym5n"]
[ext_resource type="PackedScene" uid="uid://cj1nptspt5q4w" path="res://Characters/angler_fish.tscn" id="8_gcq0m"]
[ext_resource type="PackedScene" uid="uid://owjknf6v06l" path="res://Environement/destructible_wall.tscn" id="10_egayu"]
[ext_resource type="PackedScene" uid="uid://cexfsplmdf100" path="res://Environement/trash_01.tscn" id="11_3qqy2"]
[ext_resource type="TileSet" uid="uid://c57r28hir7cl8" path="res://Art/Tiles and Sprites/TileSet.tres" id="12_gayty"]
[ext_resource type="PackedScene" uid="uid://cfnfom2oi0n37" path="res://Environement/trash_03.tscn" id="13_uc3pj"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_noael"]
shader = ExtResource("1_cql6f")
shader_parameter/vignette_intensity = 2.0
shader_parameter/vignette_opacity = 1.0
shader_parameter/vignette_rgb = Color(0, 0, 0, 1)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_6y743"]
vertices = PackedVector2Array(1142, 636, 8, 633, 7, 122, 8, 7, 1142, 7)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-3, 122, -1, 643, 1152, 647, 1153, -2, -1, -3)])
source_geometry_group_name = &"navigation_polygon_source_group"

[node name="Main Level" type="Node2D"]

[node name="Audio" type="Node" parent="."]

[node name="Music Manager" parent="Audio" node_paths=PackedStringArray("player", "anglerFish") instance=ExtResource("1_dc4yx")]
player = NodePath("../../Player")
anglerFish = NodePath("../../Angler Fish")

[node name="Level Amb" type="AudioStreamPlayer2D" parent="Audio"]
stream = ExtResource("3_is4q5")
autoplay = true
attenuation = 1.41422

[node name="CanvasModulate" type="CanvasModulate" parent="."]
light_mask = 15
visibility_layer = 15
color = Color(0.248596, 0.249125, 0.482116, 1)

[node name="Angler Fish Light Screen" type="ColorRect" parent="."]
offset_left = -744.0
offset_top = -252.0
offset_right = 1856.0
offset_bottom = 1243.0
scale = Vector2(1.96, 2.12)
color = Color(0.0470588, 0.0470588, 0.12549, 0.8)

[node name="Water Wave Shader" parent="." instance=ExtResource("1_c1jb1")]

[node name="UI" type="CanvasLayer" parent="."]

[node name="Vignette" type="ColorRect" parent="UI" node_paths=PackedStringArray("player")]
visible = false
material = SubResource("ShaderMaterial_noael")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_q77pe")
player = NodePath("../../Player")

[node name="Pause Menu" parent="UI" instance=ExtResource("2_flmfg")]
visible = false

[node name="Angler Fish" parent="." node_paths=PackedStringArray("player") instance=ExtResource("8_gcq0m")]
position = Vector2(1606, 1360)
player = NodePath("../Player")
health = 0.0

[node name="Player" parent="." instance=ExtResource("4_cym5n")]
visibility_layer = 2
position = Vector2(518, 280)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(-518, -280)
anchor_mode = 0

[node name="Wall Plant" parent="." instance=ExtResource("3_socbm")]
position = Vector2(930, 275)
rotation = 3.14159

[node name="AnglerFish Nav Mesh" type="NavigationRegion2D" parent="."]
scale = Vector2(2.30037, 3.18853)
navigation_polygon = SubResource("NavigationPolygon_6y743")

[node name="DestructibleWall" parent="." instance=ExtResource("10_egayu")]
position = Vector2(1876, 982)
rotation = 1.5708

[node name="DestructibleWall3" parent="." instance=ExtResource("10_egayu")]
position = Vector2(1905, 1046)
rotation = -1.5708

[node name="DestructibleWall2" parent="." instance=ExtResource("10_egayu")]
position = Vector2(61, 318)

[node name="trash_01" parent="." instance=ExtResource("11_3qqy2")]
position = Vector2(91, 288)

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("12_gayty")
format = 2
layer_0/tile_data = PackedInt32Array(0, 3, 4, 1, 65539, 4, 65537, 65539, 5, 65538, 131075, 7, 131074, 131075, 7, 131075, 131075, 7, 131076, 65539, 5, 65540, 65539, 5, 131083, 393219, 4, 65547, 65539, 5, 11, 65539, 4, 131082, 327683, 4, 65546, 65539, 5, 10, 65539, 4, 131081, 327683, 4, 65545, 65539, 5, 9, 65539, 4, 131080, 327683, 4, 65544, 65539, 5, 8, 65539, 4, 131079, 327683, 4, 65543, 131075, 7, 7, 65539, 4, 131078, 262147, 4, 65542, 65539, 5, 6, 65539, 4, 131077, 65539, 5, 65541, 65539, 5, 5, 65539, 4, 4, 65539, 4, 65539, 65539, 5, 3, 65539, 4, 2, 65539, 4, 131073, 131075, 7, 393221, 131075, 5, 327685, 131075, 5, 262149, 131075, 5, 196613, 262147, 4, 393220, 65539, 5, 327684, 131075, 7, 262148, 65539, 5, 196612, 65539, 5, 393219, 131075, 7, 327683, 65539, 5, 262147, 65539, 5, 196611, 65539, 5, 393218, 65539, 5, 327682, 65539, 5, 262146, 65539, 5, 196610, 65539, 5, 393217, 65539, 5, 327681, 65539, 5, 262145, 65539, 5, 196609, 65539, 5, 196625, 393219, 4, 131089, 65539, 5, 65553, 65539, 5, 196624, 327683, 4, 131088, 65539, 5, 65552, 65539, 5, 196623, 327683, 4, 131087, 65539, 5, 65551, 65539, 5, 196622, 327683, 4, 131086, 65539, 5, 65550, 65539, 5, 196621, 327683, 4, 131085, 65539, 5, 65549, 65539, 5, 196620, 327683, 4, 131084, 65539, 5, 65548, 65539, 5, 196619, 3, 6, 131090, 65539, 5, 131091, 65539, 5, 131092, 65539, 5, 131093, 131075, 5, 65557, 131075, 5, 21, 131075, 4, 65556, 65539, 5, 20, 65539, 4, 65555, 65539, 5, 19, 65539, 4, 65554, 65539, 5, 18, 65539, 4, 17, 65539, 4, 16, 65539, 4, 15, 65539, 4, 14, 65539, 4, 13, 65539, 4, 12, 65539, 4, 262144, 393219, 5, 327680, 393219, 5, 458753, 327683, 4, 458754, 393219, 4, 458755, 65539, 5, 524291, 65539, 5, 524290, 393219, 5, 393216, 393219, 5, 458752, 3, 6, 196614, 131075, 6, 262161, 393219, 5, 327697, 393219, 5, 393233, 3, 6, 196626, 65539, 5, 262162, 65539, 5, 196627, 65539, 5, 262163, 65539, 5, 327698, 65539, 5, 327699, 65539, 5, 393234, 327683, 4, 393235, 327683, 4, 589826, 3, 6, 589827, 327683, 4, 524292, 65539, 5, 458756, 65539, 5, 589828, 327683, 4, 589829, 327683, 4, 524293, 65539, 5, 458757, 262147, 6, 458758, 65539, 4, 458759, 65539, 4, 458760, 65539, 4, 458761, 131075, 4, 524297, 262147, 6, 589833, 65539, 5, 655369, 393219, 4, 524296, 65539, 5, 524295, 65539, 5, 524294, 131075, 7, 589830, 327683, 4, 589831, 327683, 4, 589832, 393219, 4, 655368, 3, 6, 851983, 65539, 5, 786447, 131075, 7, 720911, 262147, 6, 655375, 131075, 5, 589839, 131075, 5, 524303, 131075, 4, 851982, 65539, 5, 786446, 65539, 5, 720910, 65539, 5, 655374, 65539, 5, 589838, 65539, 5, 524302, 65539, 4, 851981, 65539, 5, 786445, 65539, 5, 720909, 65539, 5, 655373, 65539, 5, 589837, 65539, 5, 524301, 65539, 4, 851980, 393219, 4, 786444, 65539, 5, 720908, 65539, 5, 655372, 65539, 5, 589836, 65539, 5, 524300, 65539, 4, 851979, 327683, 4, 786443, 65539, 5, 720907, 65539, 5, 655371, 65539, 5, 589835, 65539, 5, 524299, 65539, 4, 851978, 327683, 4, 786442, 65539, 5, 720906, 65539, 5, 655370, 65539, 5, 589834, 131075, 7, 524298, 65539, 4, 851977, 3, 6, 786441, 393219, 5, 720905, 393219, 5, 1048591, 131075, 6, 983055, 131075, 5, 917519, 262147, 4, 1048590, 327683, 4, 983054, 65539, 5, 917518, 65539, 5, 1048589, 327683, 4, 983053, 65539, 5, 917517, 65539, 5, 1048588, 3, 6, 983052, 393219, 5, 917516, 393219, 5, 393243, 327683, 4, 327707, 65539, 5, 262171, 65539, 5, 196635, 65539, 4, 393242, 327683, 4, 327706, 65539, 5, 262170, 65539, 5, 196634, 65539, 4, 393241, 327683, 4, 327705, 65539, 5, 262169, 65539, 5, 196633, 65539, 4, 393240, 327683, 4, 327704, 65539, 5, 262168, 65539, 5, 196632, 65539, 4, 393239, 327683, 4, 327703, 65539, 5, 262167, 65539, 5, 196631, 65539, 4, 393238, 327683, 4, 327702, 65539, 5, 262166, 65539, 5, 196630, 65539, 4, 393237, 327683, 4, 327701, 65539, 5, 262165, 65539, 5, 196629, 262147, 6, 393236, 327683, 4, 327700, 65539, 5, 262164, 65539, 5, 196628, 65539, 5, 720912, 65539, 4, 720913, 65539, 4, 720914, 65539, 4, 720915, 65539, 4, 720916, 65539, 4, 720917, 65539, 4, 720918, 65539, 4, 786454, 65539, 5, 786455, 131075, 5, 851990, 65539, 5, 851989, 65539, 5, 917525, 65539, 5, 917526, 65539, 5, 786453, 65539, 5, 917524, 65539, 5, 851988, 65539, 5, 786452, 65539, 5, 917523, 393219, 4, 851987, 65539, 5, 786451, 65539, 5, 917522, 327683, 4, 851986, 65539, 5, 786450, 65539, 5, 917521, 327683, 4, 851985, 65539, 5, 786449, 131075, 7, 917520, 327683, 4, 851984, 65539, 5, 786448, 65539, 5, 1310743, 131075, 5, 1245207, 262147, 4, 1179671, 65539, 5, 1114135, 65539, 5, 1048599, 65539, 5, 983063, 262147, 6, 917527, 131075, 5, 851991, 131075, 5, 1310742, 65539, 5, 1245206, 65539, 5, 1179670, 65539, 5, 1114134, 65539, 5, 1048598, 65539, 5, 983062, 65539, 5, 1310741, 65539, 5, 1245205, 65539, 5, 1179669, 65539, 5, 1114133, 65539, 5, 1048597, 65539, 5, 983061, 65539, 5, 1310740, 65539, 5, 1245204, 65539, 5, 1179668, 65539, 5, 1114132, 65539, 5, 1048596, 65539, 5, 983060, 65539, 5, 1310739, 393219, 5, 1245203, 393219, 5, 1179667, 393219, 5, 1114131, 393219, 5, 1048595, 393219, 5, 983059, 393219, 5, 720919, 131075, 4, 65536, 393219, 5, 131072, 393219, 5, 196608, 393219, 5, 393256, 131075, 6, 327720, 131075, 5, 262184, 131075, 5, 196648, 131075, 4, 393255, 327683, 4, 327719, 65539, 5, 262183, 131075, 7, 196647, 65539, 4, 393254, 327683, 4, 327718, 65539, 5, 262182, 65539, 5, 196646, 65539, 4, 393253, 327683, 4, 327717, 65539, 5, 262181, 131075, 7, 196645, 65539, 4, 393252, 327683, 4, 327716, 65539, 5, 262180, 65539, 5, 196644, 65539, 4, 393251, 327683, 4, 327715, 65539, 5, 262179, 65539, 5, 196643, 65539, 4, 393250, 327683, 4, 327714, 65539, 5, 262178, 65539, 5, 196642, 65539, 4, 393249, 327683, 4, 327713, 65539, 5, 262177, 65539, 5, 196641, 65539, 4, 393248, 327683, 4, 327712, 65539, 5, 262176, 65539, 5, 196640, 65539, 4, 393247, 327683, 4, 327711, 65539, 5, 262175, 65539, 5, 196639, 65539, 4, 393246, 327683, 4, 327710, 65539, 5, 262174, 65539, 5, 196638, 65539, 4, 393245, 327683, 4, 327709, 65539, 5, 262173, 65539, 5, 196637, 65539, 4, 393244, 327683, 4, 327708, 65539, 5, 262172, 65539, 5, 196636, 65539, 4, 1376290, 131075, 6, 1310754, 131075, 5, 1245218, 131075, 5, 1179682, 131075, 5, 1114146, 131075, 5, 1048610, 131075, 5, 983074, 131075, 5, 917538, 131075, 5, 852002, 131075, 5, 786466, 131075, 5, 720930, 131075, 5, 655394, 131075, 4, 1376289, 327683, 4, 1310753, 65539, 5, 1245217, 65539, 5, 1179681, 65539, 5, 1114145, 65539, 5, 1048609, 65539, 5, 983073, 65539, 5, 917537, 65539, 5, 852001, 65539, 5, 786465, 65539, 5, 720929, 65539, 5, 655393, 65539, 4, 1376288, 327683, 4, 1310752, 65539, 5, 1245216, 65539, 5, 1179680, 65539, 5, 1114144, 131075, 7, 1048608, 131075, 7, 983072, 65539, 5, 917536, 65539, 5, 852000, 131075, 7, 786464, 65539, 5, 720928, 65539, 5, 655392, 65539, 4, 1376287, 3, 6, 1310751, 393219, 5, 1245215, 393219, 5, 1179679, 393219, 5, 1114143, 393219, 5, 1048607, 393219, 5, 983071, 393219, 5, 917535, 393219, 5, 851999, 393219, 5, 786463, 393219, 5, 720927, 393219, 5, 655391, 3, 4, 983064, 65539, 4, 983065, 65539, 4, 1048601, 65539, 5, 1048602, 65539, 5, 1048603, 131075, 5, 1114139, 131075, 5, 1179675, 131075, 5, 1245211, 131075, 6, 1245210, 327683, 4, 1245209, 327683, 4, 1245208, 327683, 4, 983067, 131075, 4, 1179674, 65539, 5, 1114138, 65539, 5, 983066, 65539, 4, 1179673, 65539, 5, 1114137, 131075, 7, 1179672, 65539, 5, 1114136, 65539, 5, 1048600, 65539, 5, 1376276, 65539, 5, 1376277, 65539, 5, 1441813, 65539, 5, 1441814, 65539, 5, 1376278, 65539, 5, 1376279, 131075, 5, 1441812, 393219, 4, 1376275, 393219, 5, 1441811, 3, 6, 1441815, 131075, 5, 1638423, 65539, 5, 1572887, 262147, 6, 1507351, 131075, 5, 1638422, 65539, 5, 1572886, 65539, 5, 1507350, 131075, 7, 1638421, 65539, 5, 1572885, 65539, 5, 1507349, 65539, 5, 1638420, 393219, 5, 1572884, 393219, 5, 1507348, 393219, 5, 1703967, 131075, 6, 1638431, 131075, 5, 1572895, 131075, 4, 1703966, 327683, 4, 1638430, 65539, 5, 1572894, 65539, 4, 1703965, 327683, 4, 1638429, 131075, 7, 1572893, 65539, 4, 1703964, 327683, 4, 1638428, 65539, 5, 1572892, 65539, 4, 1703963, 327683, 4, 1638427, 65539, 5, 1572891, 65539, 4, 1703962, 327683, 4, 1638426, 131075, 7, 1572890, 65539, 4, 1703961, 327683, 4, 1638425, 65539, 5, 1572889, 65539, 4, 1703960, 327683, 4, 1638424, 65539, 5, 1572888, 65539, 4, 1703959, 327683, 4, 1703958, 327683, 4, 1703957, 327683, 4, 1703956, 3, 6)

[node name="Trash3" parent="." instance=ExtResource("13_uc3pj")]
position = Vector2(2127, 659)
